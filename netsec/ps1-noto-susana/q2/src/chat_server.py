import socketimport argparseimport jsondef main(server_port):    # initializes server socket    server_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)    server_address = ('', server_port)    server_socket.bind(server_address)    print("Server Initialized...")    # stores clients    clients = {}      # continues to run the server while the program is running    while True:        # receieves data from the socket        data, address = server_socket.recvfrom(1024)        try:            # gets message type             message = json.loads(data.decode())            message_type = message.get("type")                       # if message sign-in, log information            if message_type == "SIGN-IN":                username = message.get("username")                clients[username] = address                            # if message is a list, send list of users logged            elif message_type == "LIST":                user_list = list(clients.keys())                response = {"type": "LIST", "users": user_list}                server_socket.sendto(json.dumps(response).encode(), address)            # if its an info message, send ip and port info to individual            elif message_type == "GET_INFO":                recipient = message.get("recipient")                if recipient in clients:                    recipient_address = clients[recipient]                    message_to_send = {"type":"INFO", "recipient":message.get("recipient"), "ip": recipient_address[0], "port": recipient_address[1], "message":message.get("message")}                    server_socket.sendto(json.dumps(message_to_send).encode(), address)                else:                    # sends error message if recipient not logged in                    response = {"type": "ERROR", "message": "User not found"}                    server_socket.sendto(json.dumps(response).encode(), address)        # catches errors        except json.JSONDecodeError:            print("Invalid message format")        except Exception as e:            print(f"Server Error: {e}")if __name__ == "__main__":    # parses the command line arguments    parser = argparse.ArgumentParser(description="Chat Server")    parser.add_argument("-sp", type=int, required=True, help="Server port")    args = parser.parse_args()    main(args.sp)